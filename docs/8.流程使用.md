<a name="XsMv7"></a>
### 1.流程准备工作
目前流程的配置需要依赖交易类型,也就是说一个表单要支持流程,必须在页面上指定一个字段用来存储交易类型.根据交易类型来判断流程模板.具体可以看下图的红框位置.

![image.png](http://design.yonyoucloud.com/static/yuque/0/2019/png/219446/1566711199985-f9e63023-652f-4d33-bb08-3581e7e4b4ec.png#align=left&display=inline&height=293&name=image.png&originHeight=585&originWidth=2892&size=138260&status=done&width=1446)

- 在excel中新增交易类型并指定交易类型所属的单据类型名称.
- 交易类型需要支持流程,将**支持流程**列设置为1.
- 在单据类型名称行中的**是否支持流程**设置为1.

将该excel发送给刘勋由他进行配置后,就可以在环境中进行流程配置.
<a name="y62hB"></a>
### 2.流程模型设计

- 登录u8c-daily.yyuap.com;进入 **数字化建模**-**流程管理**-**模型管理**
- 右侧选择指定的领域,此处配置的是 **采购供应**>**订单**>**订单交易**

![image.png](http://design.yonyoucloud.com/static/yuque/0/2019/png/219446/1566711703025-70568190-e625-4eb4-b427-94b3c263b63f.png#align=left&display=inline&height=446&name=image.png&originHeight=891&originWidth=986&size=76018&status=done&width=493)

- 选择订单交易,在右上角位置有新增按钮,点击新增,配置一个新的流程模型.配置完成后点击保存并发布.此时.流程模型就配置完成.

![image.png](http://design.yonyoucloud.com/static/yuque/0/2019/png/219446/1566711778166-26bc9ee8-f2cb-4f04-b1e4-c36f8c347d2b.png#align=left&display=inline&height=403&name=image.png&originHeight=806&originWidth=1739&size=87790&status=done&width=869.5)

<a name="FZcyJ"></a>
### 3.流程与表单绑定
想要配置的流程模型能够与表单关联起来,还需要进行如下操作.

- 在数据库的规则表billruleregister表中添加一条流程提交方法.
```sql
INSERT INTO `billruleregister`( `billnum`, `action`, `ruleId`, `iorder`, `overrule`, `tenant_id`, `key`, `isSystem`, `url`, `isSync`, `isAsyn`, `config`) 
VALUES ('common', 'submit', 'mddSubmitRule', 30.00, NULL, '0', NULL, b'1', NULL, 0, 0, NULL);
```

<a name="5P9i2"></a>
### 4.流程展示
打开配置的表单,交易类型的参照选择在第一步指定的交易类型,然后再点击提交,就可以看到能够正常提交,且可以查看到审批流信息.<br />![image.png](http://design.yonyoucloud.com/static/yuque/0/2019/png/219446/1566712245758-5c18525d-c08b-4449-8d05-5929f7bdc950.png#align=left&display=inline&height=163&name=image.png&originHeight=325&originWidth=3820&size=73261&status=done&width=1910)

![image.png](http://design.yonyoucloud.com/static/yuque/0/2019/png/219446/1566712262532-ee7f0525-cf52-4edb-8ced-4ffb282c8f57.png#align=left&display=inline&height=520&name=image.png&originHeight=1039&originWidth=1709&size=124737&status=done&width=854.5)