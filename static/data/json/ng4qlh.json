{
  "body_html": "<div><head></head><body><div data-lake-element=\"root\" class=\"lake-engine lake-typography-traditional\" data-parser-by=\"lake2html\"><p style=\"font-size: 14px; color: rgb(38, 38, 38); letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; line-height: 1.74; margin: 0px;\">&#x5355;&#x636E;&#x5F00;&#x53D1;&#x4E2D;&#x7ECF;&#x5E38;&#x4F1A;&#x9047;&#x5230;&#x67D0;&#x4E9B;&#x5B57;&#x6BB5;&#x7684;&#x503C;&#x662F;&#x7531;&#x5176;&#x4ED6;&#x51E0;&#x4E2A;&#x5B57;&#x6BB5;&#x8BA1;&#x7B97;&#x5F97;&#x6765;&#xFF0C;&#x8FD9;&#x65F6;&#x5019;&#x6211;&#x4EEC;&#x5C31;&#x9700;&#x8981;&#x7528;&#x5230;&#x81EA;&#x52A8;&#x516C;&#x5F0F;&#x8BA1;&#x7B97;&#x914D;&#x7F6E;&#x3002;</p><h4 id=\"4sFBb\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">1.&#x7F16;&#x5199;&#x81EA;&#x52A8;&#x8BA1;&#x7B97;&#x89C4;&#x5219;&#x4EE3;&#x7801;</h4><p style=\"font-size: 14px; color: rgb(38, 38, 38); letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; line-height: 1.74; margin: 0px;\"><br></p><div data-card-type=\"block\" data-lake-card=\"codeblock\" data-card-value=\"data:%7B%22mode%22%3A%22java%22%2C%22code%22%3A%22package%20com.yonyou.ucf.mdf.domain.rule%3B%5Cn%5Cnimport%20com.alibaba.fastjson.JSONObject%3B%5Cnimport%20com.yonyou.ucf.mdd.common.dto.BaseReqDto%3B%5Cnimport%20com.yonyou.ucf.mdd.common.model.RuleContext%3B%5Cnimport%20com.yonyou.ucf.mdd.common.model.RuleExecuteResult%3B%5Cnimport%20com.yonyou.ucf.mdd.common.model.UIMetaBaseInfo%3B%5Cnimport%20com.yonyou.ucf.mdd.meta.MddMetaDaoHelper%3B%5Cnimport%20com.yonyou.ucf.mdd.rule.base.AbstractRule%3B%5Cnimport%20org.imeta.core.model.Entity%3B%5Cnimport%20org.imeta.orm.base.BizObject%3B%5Cnimport%20org.springframework.stereotype.Component%3B%5Cnimport%20org.springframework.util.StringUtils%3B%5Cn%5Cnimport%20java.math.BigDecimal%3B%5Cnimport%20java.util.HashMap%3B%5Cnimport%20java.util.List%3B%5Cnimport%20java.util.Map%3B%5Cn%2F**%5Cn%20*%20TODO%20description%5Cn%20*%20%40author%20leon%5Cn%20*%20%40date%202019%2F7%2F31%5Cn%20*%20%40since%20UCF1.0%5Cn%20*%2F%5Cn%5Cn%40Component(%5C%22extTaxCalculateRule%5C%22)%2F%2FRuleID%5Cnpublic%20class%20ExtTaxCalculateRule%20extends%20AbstractRule%20%7B%2F%2F%E9%9C%80%E7%BB%A7%E6%89%BF%E7%9A%84%E7%88%B6%E7%B1%BB%5Cn%5Cn%20%20%20%20%40Override%5Cn%20%20%20%20public%20%3CT%3E%20RuleExecuteResult%20execute(RuleContext%20ruleContext%2C%20T...%20ts)%20throws%20Exception%20%7B%5Cn%20%20%20%20%20%20%20%20BaseReqDto%20requestParam%20%3D%20(BaseReqDto)%20ruleContext.getParamObj()%3B%5Cn%20%20%20%20%20%20%20%20UIMetaBaseInfo%20uiMeta%20%3D%20ruleContext.getUiMetaBaseInfo()%3B%5Cn%20%20%20%20%20%20%20%20JSONObject%20item%20%3D%20JSONObject.parseObject(requestParam.getItem())%3B%5Cn%20%20%20%20%20%20%20%20int%20rowIndex%20%3D0%3B%5Cn%20%20%20%20%20%20%20%20if%20(item!%3D%20null%20%26%26%20item.get(%5C%22location%5C%22)%20!%3D%20null)%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20rowIndex%20%3D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Integer.parseInt(item.get(%5C%22location%5C%22).toString()%20)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20List%3CBizObject%3E%20inputFormData%20%3D%20getBizObjects(uiMeta%2C%20ruleContext)%3B%5Cn%20%20%20%20%20%20%20%20if%20(inputFormData%20!%3D%20null%20%26%26%20inputFormData.size()%20%3E%200%20%26%26%20inputFormData.get(0)%20!%3D%20null%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%26%26%20inputFormData.get(0).get(%5C%22materielList%5C%22)%20!%3D%20null)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BizObject%20rowAsso%20%3D%20inputFormData.get(0)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BizObject%20rowSub%20%3D%20((List%3CBizObject%3E)%20rowAsso.get(%5C%22materielList%5C%22)).get(rowIndex)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Map%3CString%2C%20Object%3E%20result%20%3D%20new%20HashMap%3C%3E(20)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20String%20fullname%20%3D%20rowSub.get(%5C%22_entityName%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(!StringUtils.isEmpty(fullname))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Entity%20entityMeta%20%3D%20new%20MddMetaDaoHelper().getEntity(fullname)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(entityMeta%20!%3D%20null)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20entityMeta.attrMap().forEach((prop)%20-%3E%20result.put(prop.get(%5C%22name%5C%22)%2C%20null))%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20rowSub.get(%5C%22_keyName%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20rowSub.get(%5C%22_status%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20for%20(String%20key%20%3A%20rowSub.keySet())%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20(!%5C%22_parent%5C%22.equalsIgnoreCase(key))%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20result.put(key%2C%20rowSub.get(key))%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20quantity%20%3D%20rowSub.get(%5C%22quantity%5C%22)%20%3D%3D%20null%20%3F%20BigDecimal.ZERO%20%3A%20new%20BigDecimal(rowSub.get(%5C%22quantity%5C%22).toString())%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20valuationQuantity%20%3D%20rowSub.get(%5C%22valuationQuantity%5C%22)%3D%3D%20null%20%3F%20BigDecimal.ZERO%20%3A%20new%20BigDecimal(rowSub.get(%5C%22valuationQuantity%5C%22).toString())%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20taxFreePrice%20%3D%20rowSub.get(%5C%22taxFreePrice%5C%22)%3D%3D%20null%20%3F%20BigDecimal.ZERO%20%3A%20new%20BigDecimal(rowSub.get(%5C%22taxFreePrice%5C%22).toString())%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20taxRate%20%3D%20rowSub.get(%5C%22taxRate%5C%22)%3D%3D%20null%20%3F%20BigDecimal.ZERO%20%3A%20new%20BigDecimal(rowSub.get(%5C%22taxRate%5C%22).toString())%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20taxPrice%20%3D%20rowSub.get(%5C%22taxPrice%5C%22)%3D%3D%20null%20%3F%20BigDecimal.ZERO%20%3A%20new%20BigDecimal(rowSub.get(%5C%22taxPrice%5C%22).toString())%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20taxFreeAmount%20%3D%20rowSub.get(%5C%22taxFreeAmount%5C%22)%3D%3D%20null%20%3F%20BigDecimal.ZERO%20%3A%20new%20BigDecimal(rowSub.get(%5C%22taxFreeAmount%5C%22).toString())%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20valueTaxTotal%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20taxAmount%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20taxFreePriceInLocal%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20taxPriceInLocal%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20taxFreeInLocal%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20taxInLocal%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20BigDecimal%20valueTaxInLocal%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20if%20(valuationQuantity.equals(BigDecimal.ZERO))%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20valuationQuantity%3D%20quantity%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20String%20onChangeProp%20%3D%20(String)%20item.get(%5C%22key%5C%22)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20switch%20(onChangeProp)%20%7B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%5C%22taxFreeAmount%5C%22%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taxFreePrice%20%3DvaluationQuantity.equals(BigDecimal.ZERO)%3F%20taxFreeAmount%20%3AtaxFreeAmount.divide(valuationQuantity)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%5C%22taxPrice%5C%22%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20taxFreePrice%20%3D%20taxRate.equals(%20BigDecimal.ZERO%20%20)%3F%20taxPrice%3AtaxPrice.subtract(%20taxPrice.multiply(taxRate).divide(BigDecimal.valueOf(100)))%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20case%20%5C%22valueTaxTotal%5C%22%3A%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20break%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20default%3A%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20%20%20%20%20%20taxPrice%20%3D%20taxFreePrice.multiply(taxRate.divide(BigDecimal.valueOf(100)).add(BigDecimal.ONE)%20)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20taxFreeAmount%20%3D%20valuationQuantity.multiply(taxFreePrice)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20taxAmount%20%3D%20valuationQuantity.multiply(taxFreePrice).multiply(taxRate).divide(BigDecimal.valueOf(100))%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20valueTaxTotal%20%3D%20valuationQuantity.multiply(taxPrice)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20taxFreePriceInLocal%20%3D%20taxFreePrice%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20taxPriceInLocal%20%3D%20taxPrice%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20taxFreeInLocal%20%3D%20taxFreeAmount%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20taxInLocal%20%3D%20taxAmount%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20valueTaxInLocal%20%3D%20valueTaxTotal%3B%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result.put(%5C%22taxPrice%5C%22%2CtaxPrice)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result.put(%5C%22taxFreeAmount%5C%22%2CtaxFreeAmount)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result.put(%5C%22taxAmount%5C%22%2CtaxAmount)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result.put(%5C%22valueTaxTotal%5C%22%2CvalueTaxTotal)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result.put(%5C%22taxFreePriceInLocal%5C%22%2CtaxFreePriceInLocal)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result.put(%5C%22taxPriceInLocal%5C%22%2CtaxPriceInLocal)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result.put(%5C%22taxFreeInLocal%5C%22%2CtaxFreeInLocal)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result.put(%5C%22taxInLocal%5C%22%2CtaxInLocal)%3B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20result.put(%5C%22valueTaxInLocal%5C%22%2CvalueTaxInLocal)%3B%5Cn%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20return%20new%20RuleExecuteResult(result)%3B%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%5Cn%20%20%20%20%20%20%20%20return%20new%20RuleExecuteResult(%5C%22%5C%22)%3B%5Cn%20%20%20%20%7D%5Cn%7D%22%2C%22id%22%3A%22WzRKj%22%7D\" id=\"WzRKj\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(0, 0, 0); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-2\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">package com.yonyou.ucf.mdf.domain.rule;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-2\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-2\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import com.alibaba.fastjson.JSONObject;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-2\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import com.yonyou.ucf.mdd.common.dto.BaseReqDto;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-2\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import com.yonyou.ucf.mdd.common.model.RuleContext;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-2\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import com.yonyou.ucf.mdd.common.model.RuleExecuteResult;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-2\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import com.yonyou.ucf.mdd.common.model.UIMetaBaseInfo;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-2\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import com.yonyou.ucf.mdd.meta.MddMetaDaoHelper;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-2\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import com.yonyou.ucf.mdd.rule.base.AbstractRule;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import org.imeta.core.model.Entity;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import org.imeta.orm.base.BizObject;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import org.springframework.stereotype.Component;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import org.springframework.util.StringUtils;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import java.math.BigDecimal;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import java.util.HashMap;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import java.util.List;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">import java.util.Map;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">/**\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"> * TODO description\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"> * @author leon\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"> * @date 2019/7/31\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"> * @since UCF1.0\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"> */\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">@Component(&quot;extTaxCalculateRule&quot;)//RuleID\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">public class ExtTaxCalculateRule extends AbstractRule {//&#x9700;&#x7EE7;&#x627F;&#x7684;&#x7236;&#x7C7B;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">    @Override\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">    public &lt;T&gt; RuleExecuteResult execute(RuleContext ruleContext, T... ts) throws Exception {\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">        BaseReqDto requestParam = (BaseReqDto) ruleContext.getParamObj();\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">        UIMetaBaseInfo uiMeta = ruleContext.getUiMetaBaseInfo();\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">        JSONObject item = JSONObject.parseObject(requestParam.getItem());\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">        int rowIndex =0;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">        if (item!= null &amp;&amp; item.get(&quot;location&quot;) != null){\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            rowIndex =\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                    Integer.parseInt(item.get(&quot;location&quot;).toString() );\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">        }\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">        List&lt;BizObject&gt; inputFormData = getBizObjects(uiMeta, ruleContext);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">        if (inputFormData != null &amp;&amp; inputFormData.size() &gt; 0 &amp;&amp; inputFormData.get(0) != null\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                &amp;&amp; inputFormData.get(0).get(&quot;materielList&quot;) != null) {\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BizObject rowAsso = inputFormData.get(0);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BizObject rowSub = ((List&lt;BizObject&gt;) rowAsso.get(&quot;materielList&quot;)).get(rowIndex);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            Map&lt;String, Object&gt; result = new HashMap&lt;&gt;(20);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            String fullname = rowSub.get(&quot;_entityName&quot;);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            if (!StringUtils.isEmpty(fullname)) {\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                Entity entityMeta = new MddMetaDaoHelper().getEntity(fullname);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                if (entityMeta != null) {\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                    entityMeta.attrMap().forEach((prop) -&gt; result.put(prop.get(&quot;name&quot;), null));\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                }\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            }\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            rowSub.get(&quot;_keyName&quot;);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            rowSub.get(&quot;_status&quot;);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            for (String key : rowSub.keySet()) {\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                if (!&quot;_parent&quot;.equalsIgnoreCase(key)) {\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                    result.put(key, rowSub.get(key));\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                }\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            }\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal quantity = rowSub.get(&quot;quantity&quot;) == null ? BigDecimal.ZERO : new BigDecimal(rowSub.get(&quot;quantity&quot;).toString());\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal valuationQuantity = rowSub.get(&quot;valuationQuantity&quot;)== null ? BigDecimal.ZERO : new BigDecimal(rowSub.get(&quot;valuationQuantity&quot;).toString());\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal taxFreePrice = rowSub.get(&quot;taxFreePrice&quot;)== null ? BigDecimal.ZERO : new BigDecimal(rowSub.get(&quot;taxFreePrice&quot;).toString());\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal taxRate = rowSub.get(&quot;taxRate&quot;)== null ? BigDecimal.ZERO : new BigDecimal(rowSub.get(&quot;taxRate&quot;).toString());\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal taxPrice = rowSub.get(&quot;taxPrice&quot;)== null ? BigDecimal.ZERO : new BigDecimal(rowSub.get(&quot;taxPrice&quot;).toString());\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal taxFreeAmount = rowSub.get(&quot;taxFreeAmount&quot;)== null ? BigDecimal.ZERO : new BigDecimal(rowSub.get(&quot;taxFreeAmount&quot;).toString());\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal valueTaxTotal;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal taxAmount;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal taxFreePriceInLocal;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal taxPriceInLocal;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal taxFreeInLocal;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal taxInLocal;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            BigDecimal valueTaxInLocal;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            if (valuationQuantity.equals(BigDecimal.ZERO)){\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                valuationQuantity= quantity;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            }\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            String onChangeProp = (String) item.get(&quot;key&quot;);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            switch (onChangeProp) {\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                case &quot;taxFreeAmount&quot;:\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                    taxFreePrice =valuationQuantity.equals(BigDecimal.ZERO)? taxFreeAmount :taxFreeAmount.divide(valuationQuantity);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                    break;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                case &quot;taxPrice&quot;:\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                    taxFreePrice = taxRate.equals( BigDecimal.ZERO  )? taxPrice:taxPrice.subtract( taxPrice.multiply(taxRate).divide(BigDecimal.valueOf(100)));\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                    break;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                case &quot;valueTaxTotal&quot;:\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                    break;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">                default:\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            }\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            taxPrice = taxFreePrice.multiply(taxRate.divide(BigDecimal.valueOf(100)).add(BigDecimal.ONE) );\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            taxFreeAmount = valuationQuantity.multiply(taxFreePrice);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            taxAmount = valuationQuantity.multiply(taxFreePrice).multiply(taxRate).divide(BigDecimal.valueOf(100));\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            valueTaxTotal = valuationQuantity.multiply(taxPrice);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            taxFreePriceInLocal = taxFreePrice;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            taxPriceInLocal = taxPrice;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-1\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            taxFreeInLocal = taxFreeAmount;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            taxInLocal = taxAmount;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            valueTaxInLocal = valueTaxTotal;\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            result.put(&quot;taxPrice&quot;,taxPrice);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            result.put(&quot;taxFreeAmount&quot;,taxFreeAmount);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            result.put(&quot;taxAmount&quot;,taxAmount);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            result.put(&quot;valueTaxTotal&quot;,valueTaxTotal);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            result.put(&quot;taxFreePriceInLocal&quot;,taxFreePriceInLocal);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            result.put(&quot;taxPriceInLocal&quot;,taxPriceInLocal);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            result.put(&quot;taxFreeInLocal&quot;,taxFreeInLocal);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            result.put(&quot;taxInLocal&quot;,taxInLocal);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            result.put(&quot;valueTaxInLocal&quot;,valueTaxInLocal);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">            return new RuleExecuteResult(result);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">        }\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">        return new RuleExecuteResult(&quot;&quot;);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">    }\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">}</span></span></pre></div></div></div><h4 id=\"LbCWm\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">2.&#x5728;&#x89C4;&#x5219;&#x8868;&#x4E2D;&#x6CE8;&#x518C;&#x89C4;&#x5219;</h4><p style=\"font-size: 14px; color: rgb(38, 38, 38); letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; line-height: 1.74; margin: 0px;\">&#x5176;&#x4E2D;ruleID&#x5728;&#x89C4;&#x5219;&#x5B9A;&#x4E49;&#x7C7B;&#x7684;&#x6CE8;&#x89E3;<span style=\"color: #000000;\">Component</span>&#x4E2D;&#x5B9A;&#x4E49;</p><div data-card-type=\"block\" data-lake-card=\"codeblock\" data-card-value=\"data:%7B%22mode%22%3A%22sql%22%2C%22code%22%3A%22INSERT%20INTO%20%60billruleregister%60%20(%20%60billnum%60%2C%20%60action%60%2C%20%60ruleId%60%2C%20%60iorder%60%2C%20%60overrule%60%2C%20%60tenant_id%60%2C%20%60key%60%2C%20%60isSystem%60%2C%20%60url%60%2C%20%60isSync%60%2C%20%60isAsyn%60%2C%20%60config%60%20)%5CnVALUES%5Cn%5Ct(%20&apos;common&apos;%2C%20&apos;check&apos;%2C%20&apos;extTaxCalculateRule&apos;%2C%2050.00%2C%20NULL%2C%20&apos;0&apos;%2C%20NULL%2C%20b%20&apos;1&apos;%2C%20NULL%2C%200%2C%200%2C%20NULL%20)%3B%22%2C%22id%22%3A%22wR69i%22%2C%22height%22%3A155%7D\" id=\"wR69i\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(0, 0, 0); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">INSERT INTO `billruleregister` ( `billnum`, `action`, `ruleId`, `iorder`, `overrule`, `tenant_id`, `key`, `isSystem`, `url`, `isSync`, `isAsyn`, `config` )\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">VALUES\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">    ( &apos;common&apos;, &apos;check&apos;, &apos;extTaxCalculateRule&apos;, 50.00, NULL, &apos;0&apos;, NULL, b &apos;1&apos;, NULL, 0, 0, NULL );</span></span></pre></div></div></div><h4 id=\"Jxw4c\" style=\"padding: 7px 0px; margin: 0px; font-weight: 700; font-size: 16px; line-height: 24px;\">3.&#x4E3B;&#x8868;&#x5408;&#x8BA1;&#x516C;&#x5F0F;</h4><p style=\"font-size: 14px; color: rgb(38, 38, 38); letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; line-height: 1.74; margin: 0px;\">&#x901A;&#x8FC7;&#x5982;&#x4E0A;&#x914D;&#x7F6E;,&#x53EA;&#x80FD;&#x8BA9;&#x5B50;&#x8868;&#x8FDB;&#x884C;&#x884C;&#x5185;&#x7684;&#x8BA1;&#x7B97;,&#x5982;&#x679C;&#x9700;&#x8981;&#x589E;&#x52A0;&#x4E3B;&#x5B50;&#x8868;&#x7684;&#x8054;&#x52A8;&#x8BA1;&#x7B97;&#x8FD8;&#x9700;&#x8981;&#x5728;bill_itemrule&#x8868;&#x4E2D;&#x914D;&#x7F6E;&#x4E3B;&#x8868;&#x7684;&#x8BA1;&#x7B97;&#x903B;&#x8F91;.</p><div data-card-type=\"block\" data-lake-card=\"codeblock\" data-card-value=\"data:%7B%22mode%22%3A%22sql%22%2C%22code%22%3A%22INSERT%20INTO%20%60bill_itemrule%60(%60billnumber%60%2C%20%60ruleid%60%2C%20%60rulename%60%2C%20%60ruletype%60%2C%20%60entity%60%2C%20%60item%60%2C%20%60defined%60%2C%20%60condition%60%2C%20%60expression%60%2C%20%60triggers%60%2C%20%60subid%60%2C%20%60system%60%2C%20%60pubts%60%2C%20%60sysid%60%2C%20%60tenant_id%60)%20VALUES%20(%20&apos;ucf_cus_quotation_card&apos;%2C%20&apos;ucf.cus_quotation_card.CusQuotation.taxFreeAmount&apos;%2C%20&apos;%E6%97%A0%E7%A8%8E%E9%87%91%E9%A2%9D&apos;%2C%200%2C%20&apos;ucf.customer.CusQuotation&apos;%2C%20&apos;taxFreeAmount&apos;%2C%200%2C%20NULL%2C%20&apos;sum%3Cucf.customer.CusQuotationMateriel%3E%7B%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D*1%7D&apos;%2C%20&apos;%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvaluationQuantity%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreePrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxRate%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxPrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvalueTaxTotal%5D&apos;%2C%20&apos;UCF&apos;%2C%200%2C%20&apos;2019-08-01%2020%3A34%3A01&apos;%2C%20NULL%2C%20&apos;0&apos;)%3B%5CnINSERT%20INTO%20%60bill_itemrule%60(%60billnumber%60%2C%20%60ruleid%60%2C%20%60rulename%60%2C%20%60ruletype%60%2C%20%60entity%60%2C%20%60item%60%2C%20%60defined%60%2C%20%60condition%60%2C%20%60expression%60%2C%20%60triggers%60%2C%20%60subid%60%2C%20%60system%60%2C%20%60pubts%60%2C%20%60sysid%60%2C%20%60tenant_id%60)%20VALUES%20(%20&apos;ucf_cus_quotation_card&apos;%2C%20&apos;ucf.cus_quotation_card.CusQuotation.taxAmount&apos;%2C%20&apos;%E7%A8%8E%E9%A2%9D&apos;%2C%200%2C%20&apos;ucf.customer.CusQuotation&apos;%2C%20&apos;taxAmount&apos;%2C%200%2C%20NULL%2C%20&apos;sum%3Cucf.customer.CusQuotationMateriel%3E%7B%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxAmount%5D*1%7D&apos;%2C%20&apos;%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvaluationQuantity%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreePrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxRate%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxPrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvalueTaxTotal%5D&apos;%2C%20&apos;UCF&apos;%2C%200%2C%20&apos;2019-08-01%2020%3A34%3A01&apos;%2C%20NULL%2C%20&apos;0&apos;)%3B%5CnINSERT%20INTO%20%60bill_itemrule%60(%60billnumber%60%2C%20%60ruleid%60%2C%20%60rulename%60%2C%20%60ruletype%60%2C%20%60entity%60%2C%20%60item%60%2C%20%60defined%60%2C%20%60condition%60%2C%20%60expression%60%2C%20%60triggers%60%2C%20%60subid%60%2C%20%60system%60%2C%20%60pubts%60%2C%20%60sysid%60%2C%20%60tenant_id%60)%20VALUES%20(%20&apos;ucf_cus_quotation_card&apos;%2C%20&apos;ucf.cus_quotation_card.CusQuotation.valueTaxTotal&apos;%2C%20&apos;%E7%A8%8E%E4%BB%B7%E5%90%88%E8%AE%A1&apos;%2C%200%2C%20&apos;ucf.customer.CusQuotation&apos;%2C%20&apos;valueTaxTotal&apos;%2C%200%2C%20NULL%2C%20&apos;sum%3Cucf.customer.CusQuotationMateriel%3E%7B%5Bucf.customer.CusQuotationMateriel%5D.%5BvalueTaxTotal%5D*1%7D&apos;%2C%20&apos;%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvaluationQuantity%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreePrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxRate%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxPrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvalueTaxTotal%5D&apos;%2C%20&apos;UCF&apos;%2C%200%2C%20&apos;2019-08-01%2020%3A34%3A01&apos;%2C%20NULL%2C%20&apos;0&apos;)%3B%5CnINSERT%20INTO%20%60bill_itemrule%60(%60billnumber%60%2C%20%60ruleid%60%2C%20%60rulename%60%2C%20%60ruletype%60%2C%20%60entity%60%2C%20%60item%60%2C%20%60defined%60%2C%20%60condition%60%2C%20%60expression%60%2C%20%60triggers%60%2C%20%60subid%60%2C%20%60system%60%2C%20%60pubts%60%2C%20%60sysid%60%2C%20%60tenant_id%60)%20VALUES%20(%20&apos;ucf_cus_quotation_card&apos;%2C%20&apos;ucf.cus_quotation_card.CusQuotation.taxFreeInLocal&apos;%2C%20&apos;%E6%9C%AC%E5%B8%81%E6%97%A0%E7%A8%8E%E9%87%91%E9%A2%9D&apos;%2C%200%2C%20&apos;ucf.customer.CusQuotation&apos;%2C%20&apos;taxFreeInLocal&apos;%2C%200%2C%20NULL%2C%20&apos;sum%3Cucf.customer.CusQuotationMateriel%3E%7B%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeInLocal%5D*1%7D&apos;%2C%20&apos;%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvaluationQuantity%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreePrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxRate%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxPrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvalueTaxTotal%5D&apos;%2C%20&apos;UCF&apos;%2C%200%2C%20&apos;2019-08-02%2019%3A17%3A57&apos;%2C%20NULL%2C%20&apos;0&apos;)%3B%5CnINSERT%20INTO%20%60bill_itemrule%60(%60billnumber%60%2C%20%60ruleid%60%2C%20%60rulename%60%2C%20%60ruletype%60%2C%20%60entity%60%2C%20%60item%60%2C%20%60defined%60%2C%20%60condition%60%2C%20%60expression%60%2C%20%60triggers%60%2C%20%60subid%60%2C%20%60system%60%2C%20%60pubts%60%2C%20%60sysid%60%2C%20%60tenant_id%60)%20VALUES%20(%20&apos;ucf_cus_quotation_card&apos;%2C%20&apos;ucf.cus_quotation_card.CusQuotation.taxInLocal&apos;%2C%20&apos;%E6%9C%AC%E5%B8%81%E7%A8%8E%E9%A2%9D&apos;%2C%200%2C%20&apos;ucf.customer.CusQuotation&apos;%2C%20&apos;taxInLocal&apos;%2C%200%2C%20NULL%2C%20&apos;sum%3Cucf.customer.CusQuotationMateriel%3E%7B%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxInLocal%5D*1%7D&apos;%2C%20&apos;%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvaluationQuantity%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreePrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxRate%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxPrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvalueTaxTotal%5D&apos;%2C%20&apos;UCF&apos;%2C%200%2C%20&apos;2019-08-01%2020%3A34%3A01&apos;%2C%20NULL%2C%20&apos;0&apos;)%3B%5CnINSERT%20INTO%20%60bill_itemrule%60(%60billnumber%60%2C%20%60ruleid%60%2C%20%60rulename%60%2C%20%60ruletype%60%2C%20%60entity%60%2C%20%60item%60%2C%20%60defined%60%2C%20%60condition%60%2C%20%60expression%60%2C%20%60triggers%60%2C%20%60subid%60%2C%20%60system%60%2C%20%60pubts%60%2C%20%60sysid%60%2C%20%60tenant_id%60)%20VALUES%20(%20&apos;ucf_cus_quotation_card&apos;%2C%20&apos;ucf.cus_quotation_card.CusQuotation.valueTaxInLocal&apos;%2C%20&apos;%E6%9C%AC%E5%B8%81%E4%BB%B7%E7%A8%8E%E5%90%88%E8%AE%A1&apos;%2C%200%2C%20&apos;ucf.customer.CusQuotation&apos;%2C%20&apos;valueTaxInLocal&apos;%2C%200%2C%20NULL%2C%20&apos;sum%3Cucf.customer.CusQuotationMateriel%3E%7B%5Bucf.customer.CusQuotationMateriel%5D.%5BvalueTaxInLocal%5D*1%7D&apos;%2C%20&apos;%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvaluationQuantity%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreePrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxRate%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxPrice%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxFreeAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BtaxAmount%5D%2C%5Bucf.customer.CusQuotationMateriel%5D.%5BvalueTaxTotal%5D&apos;%2C%20&apos;UCF&apos;%2C%200%2C%20&apos;2019-08-01%2020%3A34%3A01&apos;%2C%20NULL%2C%20&apos;0&apos;)%3B%5Cn%22%2C%22id%22%3A%22nGxNb%22%2C%22height%22%3A152%7D\" id=\"nGxNb\"><div class=\"lake-codeblock-content\" style=\"border: 1px solid rgb(232, 232, 232); max-width: 750px; color: rgb(0, 0, 0); margin: 0px; padding: 0px; background: rgb(249, 249, 249);\"><div class style=\"color: rgb(89, 89, 89); margin: 0px; padding: 16px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><pre class=\"cm-s-default\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">INSERT INTO `bill_itemrule`(`billnumber`, `ruleid`, `rulename`, `ruletype`, `entity`, `item`, `defined`, `condition`, `expression`, `triggers`, `subid`, `system`, `pubts`, `sysid`, `tenant_id`) VALUES ( &apos;ucf_cus_quotation_card&apos;, &apos;ucf.cus_quotation_card.CusQuotation.taxFreeAmount&apos;, &apos;&#x65E0;&#x7A0E;&#x91D1;&#x989D;&apos;, 0, &apos;ucf.customer.CusQuotation&apos;, &apos;taxFreeAmount&apos;, 0, NULL, &apos;sum&lt;ucf.customer.CusQuotationMateriel&gt;{[ucf.customer.CusQuotationMateriel].[taxFreeAmount]*1}&apos;, &apos;[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[valuationQuantity],[ucf.customer.CusQuotationMateriel].[taxFreePrice],[ucf.customer.CusQuotationMateriel].[taxRate],[ucf.customer.CusQuotationMateriel].[taxPrice],[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[taxAmount],[ucf.customer.CusQuotationMateriel].[valueTaxTotal]&apos;, &apos;UCF&apos;, 0, &apos;2019-08-01 20:34:01&apos;, NULL, &apos;0&apos;);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">INSERT INTO `bill_itemrule`(`billnumber`, `ruleid`, `rulename`, `ruletype`, `entity`, `item`, `defined`, `condition`, `expression`, `triggers`, `subid`, `system`, `pubts`, `sysid`, `tenant_id`) VALUES ( &apos;ucf_cus_quotation_card&apos;, &apos;ucf.cus_quotation_card.CusQuotation.taxAmount&apos;, &apos;&#x7A0E;&#x989D;&apos;, 0, &apos;ucf.customer.CusQuotation&apos;, &apos;taxAmount&apos;, 0, NULL, &apos;sum&lt;ucf.customer.CusQuotationMateriel&gt;{[ucf.customer.CusQuotationMateriel].[taxAmount]*1}&apos;, &apos;[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[valuationQuantity],[ucf.customer.CusQuotationMateriel].[taxFreePrice],[ucf.customer.CusQuotationMateriel].[taxRate],[ucf.customer.CusQuotationMateriel].[taxPrice],[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[taxAmount],[ucf.customer.CusQuotationMateriel].[valueTaxTotal]&apos;, &apos;UCF&apos;, 0, &apos;2019-08-01 20:34:01&apos;, NULL, &apos;0&apos;);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">INSERT INTO `bill_itemrule`(`billnumber`, `ruleid`, `rulename`, `ruletype`, `entity`, `item`, `defined`, `condition`, `expression`, `triggers`, `subid`, `system`, `pubts`, `sysid`, `tenant_id`) VALUES ( &apos;ucf_cus_quotation_card&apos;, &apos;ucf.cus_quotation_card.CusQuotation.valueTaxTotal&apos;, &apos;&#x7A0E;&#x4EF7;&#x5408;&#x8BA1;&apos;, 0, &apos;ucf.customer.CusQuotation&apos;, &apos;valueTaxTotal&apos;, 0, NULL, &apos;sum&lt;ucf.customer.CusQuotationMateriel&gt;{[ucf.customer.CusQuotationMateriel].[valueTaxTotal]*1}&apos;, &apos;[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[valuationQuantity],[ucf.customer.CusQuotationMateriel].[taxFreePrice],[ucf.customer.CusQuotationMateriel].[taxRate],[ucf.customer.CusQuotationMateriel].[taxPrice],[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[taxAmount],[ucf.customer.CusQuotationMateriel].[valueTaxTotal]&apos;, &apos;UCF&apos;, 0, &apos;2019-08-01 20:34:01&apos;, NULL, &apos;0&apos;);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">INSERT INTO `bill_itemrule`(`billnumber`, `ruleid`, `rulename`, `ruletype`, `entity`, `item`, `defined`, `condition`, `expression`, `triggers`, `subid`, `system`, `pubts`, `sysid`, `tenant_id`) VALUES ( &apos;ucf_cus_quotation_card&apos;, &apos;ucf.cus_quotation_card.CusQuotation.taxFreeInLocal&apos;, &apos;&#x672C;&#x5E01;&#x65E0;&#x7A0E;&#x91D1;&#x989D;&apos;, 0, &apos;ucf.customer.CusQuotation&apos;, &apos;taxFreeInLocal&apos;, 0, NULL, &apos;sum&lt;ucf.customer.CusQuotationMateriel&gt;{[ucf.customer.CusQuotationMateriel].[taxFreeInLocal]*1}&apos;, &apos;[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[valuationQuantity],[ucf.customer.CusQuotationMateriel].[taxFreePrice],[ucf.customer.CusQuotationMateriel].[taxRate],[ucf.customer.CusQuotationMateriel].[taxPrice],[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[taxAmount],[ucf.customer.CusQuotationMateriel].[valueTaxTotal]&apos;, &apos;UCF&apos;, 0, &apos;2019-08-02 19:17:57&apos;, NULL, &apos;0&apos;);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">INSERT INTO `bill_itemrule`(`billnumber`, `ruleid`, `rulename`, `ruletype`, `entity`, `item`, `defined`, `condition`, `expression`, `triggers`, `subid`, `system`, `pubts`, `sysid`, `tenant_id`) VALUES ( &apos;ucf_cus_quotation_card&apos;, &apos;ucf.cus_quotation_card.CusQuotation.taxInLocal&apos;, &apos;&#x672C;&#x5E01;&#x7A0E;&#x989D;&apos;, 0, &apos;ucf.customer.CusQuotation&apos;, &apos;taxInLocal&apos;, 0, NULL, &apos;sum&lt;ucf.customer.CusQuotationMateriel&gt;{[ucf.customer.CusQuotationMateriel].[taxInLocal]*1}&apos;, &apos;[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[valuationQuantity],[ucf.customer.CusQuotationMateriel].[taxFreePrice],[ucf.customer.CusQuotationMateriel].[taxRate],[ucf.customer.CusQuotationMateriel].[taxPrice],[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[taxAmount],[ucf.customer.CusQuotationMateriel].[valueTaxTotal]&apos;, &apos;UCF&apos;, 0, &apos;2019-08-01 20:34:01&apos;, NULL, &apos;0&apos;);\n</span></span><span class=\"lake-preview-line\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"><span class=\"lake-preview-line-number lake-lm-pad-level-0\" style=\"color: rgb(191, 191, 191); margin: 0px 8px 0px 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\"></span><span class=\"lake-preview-codeblock-content\" style=\"color: rgb(89, 89, 89); margin: 0px; padding: 0px; background: none 0% 0% / auto repeat scroll padding-box border-box rgba(0, 0, 0, 0);\">INSERT INTO `bill_itemrule`(`billnumber`, `ruleid`, `rulename`, `ruletype`, `entity`, `item`, `defined`, `condition`, `expression`, `triggers`, `subid`, `system`, `pubts`, `sysid`, `tenant_id`) VALUES ( &apos;ucf_cus_quotation_card&apos;, &apos;ucf.cus_quotation_card.CusQuotation.valueTaxInLocal&apos;, &apos;&#x672C;&#x5E01;&#x4EF7;&#x7A0E;&#x5408;&#x8BA1;&apos;, 0, &apos;ucf.customer.CusQuotation&apos;, &apos;valueTaxInLocal&apos;, 0, NULL, &apos;sum&lt;ucf.customer.CusQuotationMateriel&gt;{[ucf.customer.CusQuotationMateriel].[valueTaxInLocal]*1}&apos;, &apos;[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[valuationQuantity],[ucf.customer.CusQuotationMateriel].[taxFreePrice],[ucf.customer.CusQuotationMateriel].[taxRate],[ucf.customer.CusQuotationMateriel].[taxPrice],[ucf.customer.CusQuotationMateriel].[taxFreeAmount],[ucf.customer.CusQuotationMateriel].[taxAmount],[ucf.customer.CusQuotationMateriel].[valueTaxTotal]&apos;, &apos;UCF&apos;, 0, &apos;2019-08-01 20:34:01&apos;, NULL, &apos;0&apos;);\n</span></span></pre></div></div></div><p style=\"font-size: 14px; color: rgb(38, 38, 38); letter-spacing: 0.05em; outline-style: none; overflow-wrap: break-word; line-height: 1.74; margin: 0px;\"><br></p></div></body></div>",
  "slug": 7494985,
  "title": "4.公式使用"
}